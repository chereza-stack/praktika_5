/*Задача 1.
Алексею надоело читать пользовательские соглашения, 
поэтому он решил собрать все текстовые файлы с ними и попортить каждое из них следующим образом: 
он берёт текстовый файл и удаляет из него буквы, которые содержаться во фразе "user agreement", 
то есть буквы "u", "s", "e" и т.д. вне зависимости от их регистра.

Необходимо помочь автоматизировать Лёше этот процесс. 
На вход программа получает файл input.txt, в файл output.txt
выводит текст из файла input.txt без соответствующих букв.
Примечания: Программа получает на вход данные из файла input.txt 
(не более 10000 символов на английском языке). 
Программа выводит в файл output.txt последовательность символов без соответствующих букв.*/

#include <iostream>
#include <fstream>
#include <string>
#include <cctype> // для tolower

int main() {
    setlocale(LC_ALL, "Russian");
    std::ifstream fin("input.txt");
    if (!fin.is_open()) { //  проверяем, открылся ли файл
        std::cerr << "Ошибка: не удалось открыть файл input.txt" << std::endl;
        return 1; // завершаем программу с кодом ошибки
    }

    std::ofstream fout("output.txt");
    if (!fout.is_open()) { //  проверка на выходной файл
        std::cerr << "Ошибка: не удалось создать файл output.txt" << std::endl;
        return 1;
    }

    std::string text;
    std::getline(fin, text);

    std::string forbidden = "useragreement";
    std::string result;

    for (char ch : text) {
        char lower = std::tolower(static_cast<unsigned char>(ch));
        if (forbidden.find(lower) == std::string::npos) {
            result += ch;
        }
    }

    fout << result;
    std::cout << "Файл обработан успешно. Результат записан в output.txt\n";
    return 0;
}
